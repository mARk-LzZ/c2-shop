(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43663919"],{"1ebb":function(e,t,a){},"420f":function(e,t,a){"use strict";a("1ebb")},b288:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("添加商品")])],1),a("el-card",[a("el-alert",{attrs:{title:"添加商品信息",closable:!1,center:"","show-icon":"",type:"info"}}),a("el-steps",{attrs:{space:200,active:e.activeIndex-0,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品信息"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"80px","label-position":"top"}},[a("el-tabs",{attrs:{"before-leave":e.beforTabLeave,"tab-position":"left"},on:{"tab-click":e.tabClicked},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品原价格",prop:"goods_oriprice"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.goods_oriprice,callback:function(t){e.$set(e.addForm,"goods_oriprice",t)},expression:"addForm.goods_oriprice"}})],1),a("el-form-item",{attrs:{label:"商品预估价",prop:"goods_thinkmoney"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.goods_thinkmoney,callback:function(t){e.$set(e.addForm,"goods_thinkmoney",t)},expression:"addForm.goods_thinkmoney"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.goods_number,callback:function(t){e.$set(e.addForm,"goods_number",t)},expression:"addForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类：",prop:"goods_cat"}},[a("el-cascader",{attrs:{options:e.catelist,props:e.cateProps,clearable:""},on:{change:e.CateChanged},model:{value:e.addForm.goods_cat,callback:function(t){e.$set(e.addForm,"goods_cat",t)},expression:"addForm.goods_cat"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.manyTabelData,(function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-checkbox-group",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}},e._l(t.attr_vals,(function(e,t){return a("el-checkbox",{key:t,attrs:{label:e,border:""}})})),1)],1)})),1),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.onlyTabelData,(function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-input",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{attrs:{action:"http://8.141.56.170:9100/relgoods/video","before-upload":e.uploadimg,headers:e.headerobj,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[a("quill-editor",{model:{value:e.addForm.goods_introduce,callback:function(t){e.$set(e.addForm,"goods_introduce",t)},expression:"addForm.goods_introduce"}}),a("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加商品")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"50%"},on:{"update:visible":function(t){e.previewVisible=t}}},[a("img",{staticClass:"previewImg",attrs:{src:e.previewPath,alt:""}})])],1)},r=[],s=(a("c740"),a("a434"),{data:function(){return{activeIndex:"0",addForm:{goods_name:"",goods_oriprice:0,goods_thinkmoney:0,goods_number:0,goods_cat:[],pics:[],goods_introduce:"",attrs:[]},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_wight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_cat:[{required:!0,message:"请选择商品分类",trigger:"blur"}]},catelist:[{cat_deleted:!1,cat_id:1,cat_level:0,cat_name:"3C数码",cat_pid:0},{cat_deleted:!1,cat_id:1,cat_level:0,cat_name:"书籍",cat_pid:1},{cat_deleted:!1,cat_id:2,cat_level:3,cat_name:"生活用品",cat_pid:2}],cateProps:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"},manyTabelData:[],onlyTabelData:[],headerobj:{Authorization:window.sessionStorage.getItem("token")},previewPath:"",previewVisible:!1}},methods:{handlePreview:function(e){this.previewPath=e.response.data.url,this.previewVisible=!0},handleRemove:function(e){var t=e.response.data.tmp_path,a=this.addForm.pics.findIndex((function(e){return e.pic===t}));this.addForm.pics.splice(a,1)},handleSuccess:function(e){var t={pic:e.data.tmp_path};this.addForm.pics.push(t)},uploadimg:function(e){console.log("upload"),this.$axios.post("http://8.141.56.170:9100/relgoods/video",{file:e}).then((function(e){console.log(e)}))},add:function(){this.$axios.post("http://8.141.56.170:9100/relgoods/rel",{commname:this.addForm.goods_name,commdesc:"",orimoney:this.addForm.goods_oriprice,thinkmoney:this.addForm.goods_thinkmoney,category:this.addForm.goods_cat}).then((function(e){console.log(e)}))}},created:function(){this.getCateList()},computed:{cateId:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null}}}),l=s,i=(a("420f"),a("2877")),d=Object(i["a"])(l,o,r,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-43663919.d581f953.js.map