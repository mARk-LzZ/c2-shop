(function(t){function e(e){for(var a,o,n=e[0],c=e[1],l=e[2],u=0,d=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var n=s[o];0!==r[n]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},o={app:0},r={app:0},i=[];function n(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1c06ed98":"56d5c635","chunk-2d0c7d23":"4e0a9bc1","chunk-2d228c85":"2db2cdee","chunk-2d229406":"d2b18377","chunk-2d22c484":"1631005e","chunk-2f8a833d":"64ab90bc","chunk-43663919":"d581f953"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-1c06ed98":1,"chunk-2f8a833d":1,"chunk-43663919":1};o[t]?e.push(o[t]):0!==o[t]&&s[t]&&e.push(o[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-1c06ed98":"efbd304e","chunk-2d0c7d23":"31d6cfe0","chunk-2d228c85":"31d6cfe0","chunk-2d229406":"31d6cfe0","chunk-2d22c484":"31d6cfe0","chunk-2f8a833d":"40c6ac68","chunk-43663919":"d59dd165"}[t]+".css",r=c.p+a,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var l=i[n],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return e()}var d=document.getElementsByTagName("style");for(n=0;n<d.length;n++){l=d[n],u=l.getAttribute("data-href");if(u===a||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[t],p.parentNode.removeChild(p),s(i)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,s){a=r[t]=[e,s]}));e.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=n(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var s=r[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,s[1](d)}r[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"029f":function(t,e,s){"use strict";s("f5f4")},"034f":function(t,e,s){"use strict";s("85ec")},"08b8":function(t,e,s){},1:function(t,e){},"129c":function(t,e,s){"use strict";s("ea2e")},"2ce8":function(t,e,s){"use strict";s("fab0")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[this.$store.state.user.isadmin&&this.$store.state.user.isadmin2?a("div",{staticClass:"admin"},[a("keep-alive",[a("router-view")],1)],1):a("div",{staticClass:"user"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,id:"leader",mode:"horizontal"},on:{select:t.handleSelect}},[a("el-submenu",{staticStyle:{float:"right"},attrs:{index:"2"}},[a("template",{staticStyle:{float:"right"},slot:"title"},[t._v("我的工作台")]),a("el-menu-item",{attrs:{index:"2-1"},on:{click:t.order}},[t._v("订单管理")]),a("el-menu-item",{attrs:{index:"2-2"},on:{click:t.collect}},[t._v("我的收藏")]),a("el-menu-item",{attrs:{index:"2-3"},on:{click:t.shopCar}},[a("i",{staticClass:"el-icon-shopping-cart-full"}),t._v("购物车")]),a("el-menu-item",{attrs:{index:"2-4"},on:{click:t.add}},[t._v("我的商品")])],2),this.$store.getters.getUser?a("li",{staticClass:"loginScreen"},[t._v(" 欢迎 "),a("el-popover",{attrs:{placement:"top",width:"180"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",[t._v("确定退出登录吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"10px 0 0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.loginOut}},[t._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(this.$store.state.user.user))])],1)],1):a("li",[a("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"3"},on:{click:function(e){t.register=!0}}},[t._v("注册")]),a("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"4"},on:{click:t.login}},[t._v("登录")])],1)],1),a("el-header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","active-text-color":"#409eff",router:""}},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:s("ede7"),alt:""}})])],1),a("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"/goods"}},[t._v("全部商品")]),a("el-menu-item",{attrs:{index:"/about"}},[t._v("关于我们")]),a("div",{staticClass:"so"},[a("el-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchClick},slot:"append"})],1)],1)],1)],1),a("register",{attrs:{register:t.register},on:{fromchild:t.isRegister}}),a("login"),a("el-main",[a("keep-alive",[a("router-view")],1)],1)],1)])},r=[],i=s("5530"),n=(s("841c"),s("ac1f"),s("2f62")),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:"注册",visible:t.isRegister,width:"30%",center:""},on:{"update:visible":function(e){t.isRegister=e}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"账号",prop:"userName"}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.userName,callback:function(e){t.$set(t.ruleForm,"userName",e)},expression:"ruleForm.userName"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",t._n(e))},expression:"ruleForm.checkPass"}})],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.pohone,callback:function(e){t.$set(t.ruleForm,"pohone",t._n(e))},expression:"ruleForm.pohone"}}),s("el-button",{attrs:{type:"primary"},on:{click:t.getCode}},[t._v("获取验证码")])],1),s("el-form-item",{attrs:{label:"验证码"}},[s("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.code,callback:function(e){t.$set(t.ruleForm,"code",t._n(e))},expression:"ruleForm.code"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.register1}},[t._v("注册")])],1)],1)],1)],1)},l=[],u=(s("b0c0"),{props:["register"],data:function(){var t=this,e=function(e,s,a){if(!s)return a(new Error("用户名不能为空"));setTimeout((function(){s.length<5&&a(new Error("5个字符以上")),s.lenght>=5?t.$axios.post("/api/users/findUserName",{userName:t.RegisterUser.name}).then((function(e){return"001"==e.data.code?(t.$refs.ruleForm.validateField("checkPass"),a()):a(new Error(e.data.msg))})):a()}),1e3)},s=function(e,s,a){""===s?a(new Error("请输入密码")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),a())},a=function(e,s,a){""===s?a(new Error("请再次输入密码")):s!=t.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()};return{isRegister:!1,ruleForm:{pass:"",checkPass:"",userName:"",pohone:"",code:""},rules:{pass:[{validator:s,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}],userName:[{validator:e,trigger:"blur"}]}}},watch:{isRegister:function(t){t||this.$emit("fromchild",t)},register:function(t){t&&(this.isRegister=t)}},methods:{getCode:function(){this.$axios.post("http://8.141.56.170:9100/user/sendregcode",{mobilephone:this.ruleForm.pohone,type:0}).then((function(t){console.log(t.data)}))},register1:function(){console.log({mobilephone:this.ruleForm.pohone,password:this.ruleForm.pass,username:this.ruleForm.userName,vercode:this.ruleForm.code}),this.$axios.post("http://8.141.56.170:9100/user/register",{mobilephone:this.ruleForm.pohone,password:this.ruleForm.pass,username:this.ruleForm.userName,vercode:this.ruleForm.code}).then((function(t){console.log(t.data)}))}}}),d=u,p=s("2877"),m=Object(p["a"])(d,c,l,!1,null,null,null),h=m.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"myLogin"}},[s("el-dialog",{attrs:{title:"登录",width:"300px",center:"",visible:t.isLogin},on:{"update:visible":function(e){t.isLogin=e}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.LoginUser,rules:t.rules,"status-icon":""}},[s("el-form-item",{attrs:{prop:"userName"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",placeholder:"请输入账号"},model:{value:t.LoginUser.userName,callback:function(e){t.$set(t.LoginUser,"userName",e)},expression:"LoginUser.userName"}})],1),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-view",type:"password",placeholder:"请输入密码"},model:{value:t.LoginUser.pass,callback:function(e){t.$set(t.LoginUser,"pass",e)},expression:"LoginUser.pass"}}),s("el-form-item",{attrs:{prop:"imageCode"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",placeholder:"请输入验证码"},model:{value:t.LoginUser.imageCode,callback:function(e){t.$set(t.LoginUser,"imageCode",e)},expression:"LoginUser.imageCode"}}),t.LoginUser.isImage?s("img",{attrs:{src:t.imagesrc,alt:"",width:"200px"},on:{click:t.changeImage}}):t._e()],1)],1),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{size:"medium",type:"primary"},on:{click:t.Login}},[t._v("登录")]),s("el-button",{staticStyle:{width:"80%"},attrs:{size:"medium",type:"primary"},on:{click:t.adminLogin}},[t._v("管理员登录")])],1)],1)],1)],1)])},f=[],v=(s("2b3d"),s("d3b7"),s("3ca3"),s("ddb0"),s("bc3a")),b=s.n(v);b.a.defaults.withCredentials=!0;var _={created:function(){},data:function(){var t=this,e=function(e,s,a){return s?s.lenght>=5?(t.$refs.ruleForm.validateField("checkPass"),a()):a(new Error("至少五个字符")):a(new Error("请输入用户名"))},s=function(t,e,s){if(""===e)return s(new Error("请输入密码"))};return{LoginUser:{userName:"",pass:"",isImage:!1,imageCode:""},rules:{name:[{validator:e,trigger:"blur"}],pass:[{validator:s,trigger:"blur"}]},imagesrc:""}},computed:{isLogin:{get:function(){return this.$store.getters.getShowLogin},set:function(t){this.$refs["ruleForm"].resetFields(),this.setShowLogin(t)}}},watch:{isLogin:function(t){var e=this;this.LoginUser.isImage=t,1==t?b()({url:"http://8.141.56.170:9100/images",method:"get",responseType:"blob"}).then((function(t){var s=window.URL.createObjectURL(t.data);console.log(s),e.imagesrc=s})):this.LoginUser.isImage=""}},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["setUser","setShowLogin","setAdmin"])),{},{Login:function(){var t=this,e={username:this.LoginUser.userName,password:this.LoginUser.pass,vercode:this.LoginUser.imageCode};b.a.post("http://8.141.56.170:9100/user/login",{username:this.LoginUser.userName,password:this.LoginUser.pass,vercode:this.LoginUser.imageCode}).then((function(s){console.log("login"),console.log(s.data),200==s.data.status?(t.isLogin=!1,localStorage.setItem("user",e.username),t.setUser(e.username),console.log(t.$store.state.user.user),t.$alert("登录成功"),t.isLogin=!1):(t.$refs["ruleForm"].resetFields(),t.$alert(s.data.message))}))},adminLogin:function(){this.setAdmin(!0),localStorage.setItem("isadmin",!0),this.$router.push("/adminLogin"),this.setShowLogin(!1)},changeImage:function(){}})},C=_,y=Object(p["a"])(C,g,f,!1,null,"37827855",null),k=y.exports,x={components:{register:h,login:k,Login:k},created:function(){},data:function(){return{register:!1,visible:!1,search:""}},mounted:function(){},computed:Object(i["a"])({},Object(n["c"])(["getUser","getNum"])),methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["setUser","setShowLogin","setShoppingCart","setAdmin"])),{},{login:function(){this.setShowLogin(!0),localStorage.setItem("isImage",!0)},isRegister:function(t){this.register=t},collect:function(){this.$router.push("/collect")},order:function(){this.$router.push("/order")},shopCar:function(){this.$router.push("/shoppingCar")},loginOut:function(){this.$axios.get("http://8.141.56.170:9100/user/logout").then((function(t){console.log(t)})),this.setUser(""),localStorage.setItem("user","")},searchClick:function(){""!=this.search&&(this.$router.push({path:"/goods",query:{search:this.search}}),this.search="")},add:function(){this.$router.push("/addGood")}})},w=x,$=(s("034f"),Object(p["a"])(w,o,r,!1,null,null,null)),S=$.exports,L=s("8c4f"),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collect"},[t._m(0),s("div",{staticClass:"content"},[t.collectList.length>0?s("div",{staticClass:"goods-list"},[s("List",{attrs:{list:t.collectList,isDelete:!0}})],1):s("div",{staticClass:"collect-empty"},[t._m(1)])])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collect-header"},[s("div",{staticClass:"collect-title"},[s("i",{staticClass:"el-icon-collection-tag",staticStyle:{color:"#ff6700"}}),t._v(" 我的收藏 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"empty"},[s("h2",[t._v("您的收藏还是空的！")]),s("p",[t._v("快去购物吧！")])])}],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"myList",attrs:{id:"myList"}},[s("ul",[t._l(t.list,(function(e){return s("li",{key:e.commid},[s("el-popover",{attrs:{placement:"top"}},[s("p",[t._v("确定删除吗？")]),s("div",{staticStyle:{"text-align":"right",margin:"10px 0 0"}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.deleteCollect(e.id)}}},[t._v("确定")])],1),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isDelete,expression:"isDelete"}],staticClass:"el-icon-close delete",attrs:{slot:"reference"},slot:"reference"})]),s("router-link",{attrs:{to:{path:"/goods/details",query:{productID:e.commid}}}},[s("img",{attrs:{src:t.$target+e.image,alt:""}}),s("h2",[t._v(t._s(e.commname))]),s("p",[s("span",[t._v(t._s(e.thinkmoney)+"元")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.orimoney!=e.product_selling_price,expression:"item.orimoney != item.product_selling_price"}],staticClass:"del"},[t._v(t._s(e.orimoney)+"元")])])])],1)})),s("li",{directives:[{name:"show",rawName:"v-show",value:t.isMore&&t.list.length>=1,expression:"isMore && list.length>=1"}],attrs:{id:"more"}},[s("router-link",{attrs:{to:{path:"/goods",query:{categoryID:t.categoryID}}}},[t._v(" 浏览更多 "),s("i",{staticClass:"el-icon-d-arrow-right"})])],1)],2)])])},j=[],N=(s("caad"),{props:["list","isMore","isDelete"],computed:{categoryID:function(){var t=[];if(""!=this.list)for(var e=0;e<this.list.length;e++){var s=this.list[e].category_id;t.includes(s)||t.push(s)}return t}},data:function(){return{}},mounted:function(){},methods:{deleteCollect:function(t){var e=this;this.$axios.put("http://8.141.56.170:9100/collect/delete/"+t).then((function(t){e.$alert(t.data.message)}))}},created:function(){console.log("list"),console.log(this.list)}}),O=N,P=(s("f62b"),Object(p["a"])(O,D,j,!1,null,null,null)),A=P.exports;b.a.defaults.withCredentials=!0;var E={components:{List:A},data:function(){return{collectList:[]}},mounted:function(){},methods:{},created:function(){var t=this;b.a.get("http://8.141.56.170:9100/user/collect/queryall",{params:{limit:100,page:1}}).then((function(e){for(var s=[],a=0;a<e.data.data.length;a++)s[a]=e.data.data[a].id;console.log(e);for(var o=0,r=0;r<e.data.data.length;r++)t.$axios.get("http://8.141.56.170:9100/product-detail/"+e.data.data[r].commid).then((function(e){var a=e.data.data;t.$set(a,"id",s[o]),t.collectList.unshift(a),o++}));console.log("sss"),console.log(t.collectList)}))}},q=E,U=(s("2ce8"),Object(p["a"])(q,F,I,!1,null,null,null)),z=U.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order"},[t._m(0),t.orders.length>0?s("div",{staticClass:"order-content"},[t._l(t.orders,(function(e,a){return s("div",{key:a,staticClass:"content"},[s("ul",[s("li",{staticClass:"order-info"},[s("div",{staticClass:"order-id"},[t._v("订单编号: "+t._s(e.order_id))]),s("div",{staticClass:"order-time"},[t._v("订单时间: "+t._s(t._f("dateFormat")(e.order_time)))])]),t._m(1,!0),t._l(e,(function(e,a){return s("li",{key:a,staticClass:"product-list"},[s("div",{staticClass:"pro-img"},[s("router-link",{attrs:{to:{path:"/goods/details",query:{productID:e.product_id}}}},[s("img",{attrs:{src:t.$target+e.product_picture}})])],1),s("div",{staticClass:"pro-name"},[s("router-link",{attrs:{to:{path:"/goods/details",query:{productID:e.product_id}}}},[t._v(t._s(e.product_name))])],1),s("div",{staticClass:"pro-price"},[t._v(t._s(e.product_price)+"元")]),s("div",{staticClass:"pro-num"},[t._v(t._s(e.product_num))]),s("div",{staticClass:"pro-total pro-total-in"},[t._v(t._s(e.product_price*e.product_num)+"元")])])}))],2),s("div",{staticClass:"order-bar"},[s("div",{staticClass:"order-bar-left"},[s("span",{staticClass:"order-total"},[t._v(" 共 "),s("span",{staticClass:"order-total-num"},[t._v(t._s(t.total[a].totalNum))]),t._v(" 件商品 ")])]),s("div",{staticClass:"order-bar-right"},[s("span",[s("span",{staticClass:"total-price-title"},[t._v("合计：")]),s("span",{staticClass:"total-price"},[t._v(t._s(t.total[a].totalPrice)+"元")])])])])])})),s("div",{staticStyle:{"margin-top":"-40px"}})],2):s("div",{staticClass:"order-empty"},[t._m(2)])])},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-header"},[s("p",[s("i",{staticClass:"el-icon-s-order",staticStyle:{"font-size":"30px",color:"#ff6700"}}),t._v(" 我的订单 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"header"},[s("div",{staticClass:"pro-img"}),s("div",{staticClass:"pro-name"},[t._v("商品名称")]),s("div",{staticClass:"pro-price"},[t._v("单价")]),s("div",{staticClass:"pro-num"},[t._v("数量")]),s("div",{staticClass:"pro-total"},[t._v("小计")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"empty"},[s("h2",[t._v("您的订单还是空的！")]),s("p",[t._v("快去购物吧！")])])}],M={data:function(){return{orders:[],total:[]}},mounted:function(){},methods:{},activated:function(){},watch:{orders:function(t){for(var e=[],s=0;s<t.length;s++){for(var a=t[s],o=0,r=0,i=0;i<a.length;i++){var n=a[i];o+=n.product_num,r+=n.product_price*n.product_num}e.push({totalNum:o,totalPrice:r})}this.total=e}}},G=M,B=(s("ac94"),Object(p["a"])(G,R,T,!1,null,null,null)),H=B.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"block"},[s("el-carousel",{attrs:{height:"460px",id:"turn-image"}},t._l(t.carousel,(function(e){return s("el-carousel-item",{key:e.carousel_id},[s("img",{staticStyle:{height:"460px",width:"1225px"},attrs:{src:t.$target+e,alt:e.describes}})])})),1)],1),s("div",{staticClass:"one"},[t._m(0),s("div",{staticClass:"box-bd"},[s("div",{staticClass:"promo-list"},[s("router-link",{attrs:{to:""}},[s("img",{staticClass:"ex",staticStyle:{"margin-top":"10px",bcakground:"blue"},attrs:{src:t.$target+"/pic/85ee5e69f3194d5ba9fa24a5f6532fb4.jpg"}})])],1),s("div",{staticClass:"list"},[s("List",{attrs:{list:t.firstList,isMore:!0}})],1)])]),s("div",{staticClass:"two"},[s("div",{staticClass:"box-hd"},[s("br"),s("div",{staticClass:"title"},[t._v("分类2")]),s("div",{staticClass:"more",attrs:{id:"more"}},[s("Menu",{attrs:{val:2},on:{fromChild:t.getChildMsg}},[s("span",{staticClass:"cate",attrs:{slot:"1"},slot:"1"},[t._v("子分类1")]),s("span",{staticClass:"cate",attrs:{slot:"2"},slot:"2"},[t._v("子分类2")])])],1)]),s("div",{staticClass:"box-bd"},[s("div",{staticClass:"promo-list"},[s("img",{staticClass:"ex",staticStyle:{"margin-top":"10px"},attrs:{src:t.$target+"/pic/a33d4e4b05154367849d0d6cad97e47d.jpg"}})]),s("div",{staticClass:"list"},[s("List",{attrs:{list:t.secondList,isMore:!0}})],1)])])])},J=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box-hd"},[s("div",{staticClass:"title"},[t._v("3C数码 ")])])}],K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu",attrs:{id:"myMenu"}},[s("ul",t._l(t.val,(function(e){return s("li",{key:e,class:t.activeClass==e?"active":"",on:{mouseover:function(s){return t.mouseover(s,e)}}},[s("router-link",{attrs:{to:""}},[t._t(e)],2)],1)})),0)])},Q=[],W={props:["val"],data:function(){return{activeClass:1}},mounted:function(){},methods:{mouseover:function(t,e){this.activeClass=e}},watch:{activeClass:function(t){this.$emit("fromChild",t)}}},X=W,Y=(s("80b5"),Object(p["a"])(X,K,Q,!1,null,null,null)),Z=Y.exports,tt={components:{List:A,Menu:Z},data:function(){return{carousel:"",firstList:"",secondList:"",twoActive:1,twoFlist:"",twoSlist:""}},created:function(){var t=this;this.$axios.post("/api/resources/carousel",{}).then((function(e){t.carousel=e.data.carousel})).catch((function(t){return Promise.reject(t)})),this.getPromo("3C","firstList"),this.getPromo("生活用品","secondList"),this.getPromo("生活用品","twoFlist"),this.getPromo("书籍","twoSlist"),this.setAdmin(!1)},mounted:function(){},watch:{twoActive:function(t){1==t&&(this.secondList=this.twoFlist),2==t&&(this.secondList=this.twoSlist)}},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["setAdmin"])),{},{getPromo:function(t,e){var s=this;this.$axios.post("http://8.141.56.170:9100/index/product/",{category:t}).then((function(a){console.log(t),console.log(a),s[e]=a.data.data,s.carousel=a.data.data[3].otherimg})).catch((function(t){return Promise.reject(t)}))},getChildMsg:function(t){this.twoActive=t}})},et=tt,st=(s("cccb"),Object(p["a"])(et,V,J,!1,null,null,null)),at=st.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shoppingCart"},[t._m(0),t.getShoppingCart.length>0?s("div",{staticClass:"content"},[s("ul",[s("li",{staticClass:"header"},[s("div",{staticClass:"pro-check"},[s("el-checkbox",{model:{value:t.isAllCheck,callback:function(e){t.isAllCheck=e},expression:"isAllCheck"}},[t._v("全选")])],1),s("div",{staticClass:"pro-img"}),s("div",{staticClass:"pro-name"},[t._v("商品名称")]),s("div",{staticClass:"pro-price"},[t._v("单价")]),s("div",{staticClass:"pro-num"},[t._v("数量")]),s("div",{staticClass:"pro-total"},[t._v("小计")]),s("div",{staticClass:"pro-action"},[t._v("操作")])]),t._l(t.getShoppingCart,(function(e,a){return s("li",{key:e.id,staticClass:"product-list"},[s("div",{staticClass:"pro-check"},[s("el-checkbox",{attrs:{value:e.check},on:{change:function(e){return t.checkChange(e,a)}}})],1),s("div",{staticClass:"pro-img"},[s("router-link",{attrs:{to:{path:"/goods/details",query:{productID:e.productID}}}},[s("img",{attrs:{src:t.$target+e.productImg}})])],1),s("div",{staticClass:"pro-name"},[s("router-link",{attrs:{to:{path:"/goods/details",query:{productID:e.productID}}}},[t._v(t._s(e.productName))])],1),s("div",{staticClass:"pro-price"},[t._v(t._s(e.price)+"元")]),s("div",{staticClass:"pro-num"},[s("el-input-number",{attrs:{size:"small",value:e.num,min:1,max:e.maxNum},on:{change:function(s){return t.handleChange(s,a,e.productID)}}})],1),s("div",{staticClass:"pro-total pro-total-in"},[t._v(t._s(e.price*e.num)+"元")]),s("div",{staticClass:"pro-action"},[s("el-popover",{attrs:{placement:"right"}},[s("p",[t._v("确定删除吗？")]),s("div",{staticStyle:{"text-align":"right",margin:"10px 0 0"}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.deleteItem(s,e.id,e.productID)}}},[t._v("确定")])],1),s("i",{staticClass:"el-icon-error",staticStyle:{"font-size":"18px"},attrs:{slot:"reference"},slot:"reference"})])],1)])}))],2),s("div",{staticStyle:{height:"20px","background-color":"#f5f5f5"}}),s("div",{staticClass:"cart-bar"},[s("div",{staticClass:"cart-bar-left"},[s("span",[s("router-link",{attrs:{to:"/goods"}},[t._v("继续购物")])],1),s("span",{staticClass:"sep"},[t._v("|")]),s("span",{staticClass:"cart-total"},[t._v(" 共 "),s("span",{staticClass:"cart-total-num"},[t._v(t._s(t.getNum))]),t._v(" 件商品，已选择 "),s("span",{staticClass:"cart-total-num"},[t._v(t._s(t.getCheckNum))]),t._v(" 件 ")])]),s("div",{staticClass:"cart-bar-right"},[s("span",[s("span",{staticClass:"total-price-title"},[t._v("合计：")]),s("span",{staticClass:"total-price"},[t._v(t._s(t.getTotalPrice)+"元")])]),s("router-link",{attrs:{to:t.getCheckNum>0?"/confirmOrder":""}},[s("div",{class:t.getCheckNum>0?"btn-primary":"btn-primary-disabled"},[t._v("去结算")])])],1)])]):s("div",{staticClass:"cart-empty"},[t._m(1)])])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-header"},[s("div",{staticClass:"cart-header-content"},[s("p",[s("i",{staticClass:"el-icon-shopping-cart-full",staticStyle:{color:"#ff6700","font-weight":"600"}}),t._v(" 我的购物车 ")]),s("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"empty"},[s("h2",[t._v("您的购物车还是空的！")]),s("p",[t._v("快去购物吧！")])])}],it={data:function(){return{}},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["updateShoppingCart","deleteShoppingCart","checkAll"])),{},{handleChange:function(t,e,s){this.updateShoppingCart({key:e,prop:"check",val:!0,id:s})},checkChange:function(t,e){this.updateShoppingCart({key:e,prop:"check",val:t})}}),computed:Object(i["a"])(Object(i["a"])({},Object(n["c"])(["getShoppingCart","getCheckNum","getTotalPrice","getNum"])),{},{isAllCheck:{get:function(){return this.$store.getters.getIsAllcheck},set:function(t){this.checkAll(t)}}})},nt=it,ct=(s("029f"),Object(p["a"])(nt,ot,rt,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods",attrs:{id:"goods",name:"goods"}},[s("div",{staticClass:"breadcrumb"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:"/"}},[t._v("首页")]),s("el-breadcrumb-item",[t._v("全部商品")]),t.search?s("el-breadcrumb-item",[t._v("搜索")]):s("el-breadcrumb-item",[t._v("分类")]),t.search?s("el-breadcrumb-item",[t._v(t._s(t.search))]):t._e()],1)],1),s("div",{staticClass:"nav"},[s("div",{staticClass:"product-nav"},[s("div",{staticClass:"title"},[t._v("分类")]),s("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.categoryList,(function(t){return s("el-tab-pane",{key:t,attrs:{label:t,name:""+t}})})),1)],1)]),s("div",{staticClass:"main"},[s("div",{staticClass:"list"},[t.product.length>0?s("List",{attrs:{list:t.product}}):s("div",{staticClass:"none-product"},[t._v("抱歉没有找到相关的商品，请看看其他的商品")])],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.currentChange}})],1)])])},dt=[],pt={components:{List:A},data:function(){return{categoryList:[{category_name:"分类1",category_id:1},{category_name:"分类2",category_id:2}],categoryID:[],product:"",productList:"",total:20,pageSize:15,currentPage:1,activeName:"全部",search:""}},activated:function(){if(this.activeName="-1",this.total=0,this.currentPage=1,void 0!=this.$route.query.categoryID)return this.categoryID=this.$route.query.categoryID,void(1==this.categoryID.length&&(this.activeName=""+this.categoryID[0]));void 0!=this.$route.query.search&&(this.search=this.$route.query.search)},mounted:function(){},created:function(){this.getCategory()},watch:{activeName:function(t){this.categoryID=t,this.total=0,this.currentPage=1,this.$router.push({path:"/goods",query:{categoryID:this.categoryID}})},search:function(t){""!=t&&this.getProductBySearch(t)},categoryID:function(){this.getData(),this.search=""},$route:function(t){"/goods"==t.path&&void 0!=t.query.search&&(this.activeName="-1",this.currentPage=1,this.total=10,this.search=t.query.search)}},methods:{bcaktop:function(){document.documentElement.scrollTop=0},currentChange:function(t){this.currentPage=t,""!=this.search?this.getProductBySearch():this.getData(),this.backtop()},getCategory:function(){var t=this;this.$axios.get("http://8.141.56.170:9100/product/getallcategorys").then((function(e){var s=e.data.data;t.categoryList=s}))},getData:function(){var t=this;console.log(this.categoryID),this.$axios.post("http://8.141.56.170:9100/index/product",{category:this.categoryID}).then((function(e){t.product=e.data.data}))},getProductBySearch:function(){var t=this;console.log("search"),this.$axios.get("http://8.141.56.170:9100/product/search/"+this.currentPage+"/"+this.search).then((function(e){console.log(e),t.product=e.data.data,t.total=e.data.data.length}))}}},mt=pt,ht=(s("d530"),Object(p["a"])(mt,ut,dt,!1,null,null,null)),gt=ht.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"details"}},[s("div",{staticClass:"page-header"},[s("div",{staticClass:"title"},[s("p",[t._v(t._s(t.productDetails.product_name))]),s("div",{staticClass:"list"},[s("ul",[s("li",[s("router-link",{attrs:{to:""}},[t._v("概述")])],1),s("li",[s("router-link",{attrs:{to:""}},[t._v("参数")])],1),s("li",[s("router-link",{attrs:{to:""}},[t._v("用户评价")])],1)])])])]),s("div",{staticClass:"main"},[s("div",{staticClass:"block"},[t.productPicture.length>1?s("el-carousel",{attrs:{height:"560px"}},t._l(t.productPicture,(function(e){return s("el-carousel-item",{key:e.id},[s("img",{staticStyle:{height:"560px"},attrs:{src:t.$target+e,alt:e.intro}})])})),1):t._e(),1==t.productPicture.length?s("div",[s("img",{staticStyle:{height:"560px"},attrs:{src:t.$target+t.productPicture[0],alt:t.productPicture[0]}})]):t._e()],1),s("div",{staticClass:"content"},[s("h1",{staticClass:"name"},[t._v(t._s(t.productDetails.commname))]),s("p",{staticClass:"intro"},[t._v(t._s(t.productDetails.commdesc))]),s("p",{staticClass:"store"},[t._v("西二自营")]),s("div",{staticClass:"price"},[s("span",[t._v(t._s(t.productDetails.thinkmoney)+"元")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.thinkmoney!=t.productDetails.orimoney,expression:"productDetails.thinkmoney != productDetails.orimoney"}],staticClass:"del"},[t._v(t._s(t.productDetails.orimoney)+"元")])]),s("div",{staticClass:"pro-list"},[s("span",{staticClass:"pro-name"},[t._v(t._s(t.productDetails.commname))]),s("span",{staticClass:"pro-price"},[s("span",[t._v(t._s(t.productDetails.orimoney)+"元")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.orimoney!=t.productDetails.thinkmoney,expression:"productDetails.orimoney != productDetails.thinkmoney"}],staticClass:"pro-del"},[t._v(t._s(t.productDetails.thinkmoney)+"元")])]),s("p",{staticClass:"price-sum"},[t._v("总计 : "+t._s(t.productDetails.thinkmoney)+"元")])]),s("div",{staticClass:"button"},[s("el-button",{staticClass:"shop-cart",attrs:{disabled:t.dis},on:{click:t.addShoppingCar}},[t._v("加入购物车")]),s("el-button",{staticClass:"like",on:{click:t.addCollect}},[t._v("喜欢")])],1)])])])},vt=[];b.a.defaults.withCredentials=!0;var bt={data:function(){return{dis:!1,productID:"",productDetails:"",productPicture:""}},activated:function(){void 0!=this.$route.query.productID&&(this.productID=this.$route.query.productID)},watch:{productID:function(t){this.getDetails(t),this.getDetailsPicture(t)}},mounted:function(){},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(n["b"])(["unshiftShoppingCart","addShoppingCartNum"])),Object(n["b"])(["setShowLogin"])),{},{getDetails:function(t){var e=this;console.log("datail"),this.$axios.get("http://8.141.56.170:9100/product-detail/"+t).then((function(t){console.log("datail"),console.log(t),e.productDetails=t.data.data,e.productPicture=t.data.data.otherimg})).catch((function(t){return Promise.reject(t)}))},addShoppingCar:function(){console.log(1),this.$store.getters.getUser||this.$store.dispatch("setShowLogin",!0)},addCollect:function(){var t=this;this.$store.getters.getUser?b.a.post("http://8.141.56.170:9100/collect/operate",{cmuserid:this.productDetails.userid,commdesc:this.productDetails.commdesc,commid:this.productDetails.commid,commname:this.productDetails.commname,school:this.productDetails.school,colloperate:1}).then((function(e){t.$alert(e.data.message)})):this.$store.dispatch("setShowLogin",!0)}})},_t=bt,Ct=(s("e398"),Object(p["a"])(_t,ft,vt,!1,null,null,null)),yt=Ct.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"adminlogin_container"},[s("div",{staticClass:"login_box"},[t._m(0),s("el-form",{ref:"LoginFormRef",staticClass:"login_form",attrs:{model:t.loginForm,"label-width":"0",rules:t.LoginFormRules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),s("el-form-item",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1)])])},xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar_box"},[a("img",{attrs:{src:s("cf05"),alt:""}})])}],wt=s("1da1"),$t=(s("96cf"),{data:function(){return{loginForm:{username:"",password:""},LoginFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["setSeller","setAdmin","setAdmin2"])),{},{register:function(){},login:function(){var t=this;this.$refs["LoginFormRef"].validate(function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}t.$axios.post("http://8.141.56.170:9100/admin/login",{username:t.loginForm.username,password:t.loginForm.password}).then((function(e){200==e.data.status?(t.$axios.post("http://8.141.56.170:9100/admin/finduserbyname",{username:t.loginForm.username}).then((function(e){console.log(e.data.data[0].roleid),3==e.data.data[0].roleid&&(localStorage.setItem("isadmin",t.loginForm.username),t.setAdmin(t.loginForm.username)),2==e.data.data[0].roleid&&(t.setAdmin2(t.loginForm.username),localStorage.setItem("isadmin2",t.loginForm.username)),1==e.data.data[0].roleid&&(t.setSeller(t.loginForm.username),localStorage.setItem("seller",t.loginForm.username))})),console.log(e),t.$router.push("adminHome")):t.$alert(e.data.message)})),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})}),St=$t,Lt=(s("d5f3"),Object(p["a"])(St,kt,xt,!1,null,null,null)),Ft=Lt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adminHome"},[a("el-container",{staticStyle:{height:"100vh"}},[a("el-header",[a("div",[a("img",{attrs:{src:s("cf05"),alt:""}}),a("span",[t._v("商城后台")])]),a("el-button",{attrs:{type:"info"},on:{click:t.logout}},[t._v("退出("+t._s(this.$store.state.user.seller||"管理员")+")")])],1),a("el-container",[a("el-aside",{attrs:{width:t.isCollapse?"64px":"200px"}},[a("div",{staticClass:"toggle-button",on:{click:t.toggleCollapse}},[t._v("|||")]),a("el-menu",{attrs:{router:"","background-color":"#333744","text-color":"#fff","active-text-color":"#409EFF","unique-opened":"",collapse:t.isCollapse,"collapse-transition":!1,"default-active":t.$route.path}},t._l(t.menulist,(function(e){return a("el-submenu",{key:e.id,attrs:{index:e.id+""}},[a("template",{slot:"title"},[a("i",{class:t.iconObj[e.id]}),a("span",[t._v(t._s(e.authName))])]),t._l(e.children,(function(e){return a("el-menu-item",{key:e.id,attrs:{index:"/"+e.path}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v(t._s(e.authName))])])],2)}))],2)})),1)],1),a("el-main",[a("router-view")],1)],1)],1)],1)},Dt=[],jt=(s("a434"),{data:function(){return{menulist:[{id:125,authName:"用户管理",children:[{authName:"用户列表",path:"usersList"}]},{id:103,authName:"权限管理",children:[{authName:"角色列表",path:"rolesList"},{authName:"权限列表",path:"rightsList"}]},{id:101,authName:"商品管理",children:[{authName:"商品列表",path:"goodsList"},{authName:"商品分类",path:"cateList"}]},{id:102,authName:"订单管理",children:[{authName:"订单列表",path:"ordersList"}]}],iconObj:{125:"iconfont icon-icon_user",103:"iconfont icon-tijikongjian",101:"iconfont icon-shangpin",102:"iconfont icon-danju",145:"iconfont icon-baobiao"},isCollapse:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["setSeller","setAdmin","setAdmin2"])),{},{logout:function(){window.sessionStorage.clear,this.$router.push("/"),this.setAdmin(!1),this.setAdmin2(!1),localStorage.setItem("seller",""),localStorage.setItem("isadmin",""),localStorage.setItem("isadmin2","")},toggleCollapse:function(){this.isCollapse=!this.isCollapse}}),created:function(){this.$store.state.user.seller&&(this.menulist.splice(0,1),this.menulist.splice(0,1))}}),Nt=jt,Ot=(s("129c"),Object(p["a"])(Nt,It,Dt,!1,null,null,null)),Pt=Ot.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),s("el-breadcrumb-item",[t._v("商品管理")]),s("el-breadcrumb-item",[t._v("商品列表")])],1),s("el-card",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.getGoodsList},model:{value:t.queryInfo.query,callback:function(e){t.$set(t.queryInfo,"query",e)},expression:"queryInfo.query"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.handleCurrentChange(1),t.getGoodsList}},slot:"append"})],1)],1),s("el-col",{attrs:{span:4}},[s("el-button",{attrs:{type:"primary"},on:{click:t.goAddPage}},[t._v("添加商品")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodslist,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index"}}),s("el-table-column",{attrs:{prop:"commname",label:"商品名称"}}),s("el-table-column",{attrs:{prop:"thinkmoney",label:"商品价格（元）",width:"95px"}}),s("el-table-column",{attrs:{prop:"commstatus",label:"状态",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-switch",{on:{change:function(s){return t.StateChanged(e.row)}},model:{value:e.row.commstatus,callback:function(s){t.$set(e.row,"commstatus",s)},expression:"scope.row.commstatus"}})]}}])}),s("el-table-column",{attrs:{prop:"updatetime",label:"创建时间",width:"170px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.updatetime)+" ")]}}])}),s("el-table-column",{attrs:{label:"操作",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}}),s("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-delete"},on:{click:function(s){return t.removeById(e.row.commid)}}})]}}])})],1),s("el-pagination",{attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[10,20,50],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},Et=[],qt={data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:10},goodslist:[],total:100}},methods:{getGoodsList:function(){var t=this;return Object(wt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$axios.get("http://8.141.56.170:9100/user/commodity/100",{params:{limit:t.queryInfo.pagesize,nowPaging:t.queryInfo.pagenum,page:t.queryInfo.pagenum}}).then((function(e){console.log(e);for(var s=e.data.data,a=0;a<s.length;a++)s[a].commstatus?s[a].commstatus=!0:s[a].commstatus=!1;t.goodslist=e.data.data}));case 1:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.queryInfo.pagesize=t,this.getGoodsList()},handleCurrentChange:function(t){this.queryInfo.pagenum=t,this.getGoodsList()},removeById:function(t){},goAddPage:function(){this.$router.push("/add")},StateChanged:function(t){var e=t.commstatus?1:0;this.$axios.put("http://8.141.56.170:9100/admin/changecommstatus/"+t.commid+"/"+e).then((function(t){console.log(t)}))}},created:function(){this.getGoodsList()}},Ut=qt,zt=Object(p["a"])(Ut,At,Et,!1,null,"7dfa2ee9",null),Rt=zt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),s("el-breadcrumb-item",[t._v("商品管理")]),s("el-breadcrumb-item",[t._v("添加商品")])],1),s("el-card",[s("el-alert",{attrs:{title:"添加商品信息",closable:!1,center:"","show-icon":"",type:"info"}}),s("el-steps",{attrs:{space:200,active:t.activeIndex-0,"finish-status":"success","align-center":""}},[s("el-step",{attrs:{title:"基本信息"}}),s("el-step",{attrs:{title:"商品参数"}}),s("el-step",{attrs:{title:"商品信息"}}),s("el-step",{attrs:{title:"商品图片"}}),s("el-step",{attrs:{title:"商品内容"}}),s("el-step",{attrs:{title:"完成"}})],1),s("el-form",{ref:"addFormRef",attrs:{model:t.addForm,rules:t.addFormRules,"label-width":"80px","label-position":"top"}},[s("el-tabs",{attrs:{"before-leave":t.beforTabLeave,"tab-position":"left"},on:{"tab-click":t.tabClicked},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[s("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[s("el-input",{model:{value:t.addForm.goods_name,callback:function(e){t.$set(t.addForm,"goods_name",e)},expression:"addForm.goods_name"}})],1),s("el-form-item",{attrs:{label:"商品原价格",prop:"goods_oriprice"}},[s("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_oriprice,callback:function(e){t.$set(t.addForm,"goods_oriprice",e)},expression:"addForm.goods_oriprice"}})],1),s("el-form-item",{attrs:{label:"商品预估价",prop:"goods_thinkmoney"}},[s("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_thinkmoney,callback:function(e){t.$set(t.addForm,"goods_thinkmoney",e)},expression:"addForm.goods_thinkmoney"}})],1),s("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[s("el-input",{attrs:{type:"number"},model:{value:t.addForm.goods_number,callback:function(e){t.$set(t.addForm,"goods_number",e)},expression:"addForm.goods_number"}})],1),s("el-form-item",{attrs:{label:"商品分类：",prop:"goods_cat"}},[s("el-cascader",{attrs:{options:t.catelist,props:t.cateProps,clearable:""},on:{change:t.CateChanged},model:{value:t.addForm.goods_cat,callback:function(e){t.$set(t.addForm,"goods_cat",e)},expression:"addForm.goods_cat"}})],1)],1),s("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},t._l(t.manyTabelData,(function(e){return s("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[s("el-checkbox-group",{model:{value:e.attr_vals,callback:function(s){t.$set(e,"attr_vals",s)},expression:"item.attr_vals"}},t._l(e.attr_vals,(function(t,e){return s("el-checkbox",{key:e,attrs:{label:t,border:""}})})),1)],1)})),1),s("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},t._l(t.onlyTabelData,(function(e){return s("el-form-item",{key:e.attr_id,attrs:{label:e.attr_name}},[s("el-input",{model:{value:e.attr_vals,callback:function(s){t.$set(e,"attr_vals",s)},expression:"item.attr_vals"}})],1)})),1),s("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[s("el-upload",{attrs:{action:"http://8.141.56.170:9100/relgoods/video","before-upload":t.uploadimg,headers:t.headerobj,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"list-type":"picture"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),s("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[s("quill-editor",{model:{value:t.addForm.goods_introduce,callback:function(e){t.$set(t.addForm,"goods_introduce",e)},expression:"addForm.goods_introduce"}}),s("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:t.add}},[t._v("添加商品")])],1)],1)],1)],1),s("el-dialog",{attrs:{title:"图片预览",visible:t.previewVisible,width:"50%"},on:{"update:visible":function(e){t.previewVisible=e}}},[s("img",{staticClass:"previewImg",attrs:{src:t.previewPath,alt:""}})])],1)},Mt=[],Gt=(s("c740"),{data:function(){return{activeIndex:"0",addForm:{goods_name:"",goods_oriprice:0,goods_thinkmoney:0,goods_number:0,goods_cat:[],pics:[],goods_introduce:"",attrs:[]},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_wight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_cat:[{required:!0,message:"请选择商品分类",trigger:"blur"}]},catelist:[{cat_deleted:!1,cat_id:1,cat_level:0,cat_name:"3C数码",cat_pid:0},{cat_deleted:!1,cat_id:1,cat_level:0,cat_name:"书籍",cat_pid:1},{cat_deleted:!1,cat_id:2,cat_level:3,cat_name:"生活用品",cat_pid:2}],cateProps:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"},manyTabelData:[],onlyTabelData:[],headerobj:{Authorization:window.sessionStorage.getItem("token")},previewPath:"",previewVisible:!1}},methods:{handlePreview:function(t){this.previewPath=t.response.data.src,console.log(t.response.data.src),this.previewVisible=!0},handleRemove:function(t){var e=t.response.data.src,s=this.addForm.pics.findIndex((function(t){return t.pic===e}));this.addForm.pics.splice(s,1)},handleSuccess:function(t){console.log(t);var e={pic:t.data.src};this.addForm.pics.push(e)},uploadimg:function(t){console.log("upload"),this.$axios.post("http://8.141.56.170:9100/relgoods/video",{file:t}).then((function(t){console.log(t)}))},add:function(){return this.$axios.post("http://8.141.56.170:9100/relgoods/rel",{commname:this.addForm.goods_name,commdesc:"",orimoney:this.addForm.goods_oriprice,thinkmoney:this.addForm.goods_thinkmoney,category:this.addForm.goods_cat}).then((function(t){console.log(t)})),!0}},created:function(){this.getCateList()},computed:{cateId:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null}}}),Bt=Gt,Ht=(s("7939"),Object(p["a"])(Bt,Tt,Mt,!1,null,null,null)),Vt=Ht.exports;a["default"].use(L["a"]);var Jt=L["a"].prototype.push;L["a"].prototype.push=function(t){return Jt.call(this,t).catch((function(t){return t}))};var Kt=[{path:"/order",component:H},{path:"/collect",component:z},{path:"/addGood",component:Rt},{path:"/add",component:Vt},{path:"/",component:at},{path:"/shoppingCar",component:lt},{path:"/goods",component:gt},{path:"/goods/details",component:yt},{path:"/adminLogin",component:Ft},{path:"/adminHome",component:Pt,children:[{path:"/usersList",component:function(){return s.e("chunk-2d22c484").then(s.bind(null,"f323"))}},{path:"/ordersList",component:function(){return s.e("chunk-1c06ed98").then(s.bind(null,"6ec7"))}},{path:"/cateList",component:function(){return s.e("chunk-2d229406").then(s.bind(null,"dd3c"))}},{path:"/goodsList",component:function(){return s.e("chunk-2d228c85").then(s.bind(null,"db3d"))}},{path:"/rightsList",component:function(){return s.e("chunk-2d0c7d23").then(s.bind(null,"51f7"))}},{path:"/rolesList",component:function(){return s.e("chunk-2f8a833d").then(s.bind(null,"19ad"))}},{path:"/addGoods",component:function(){return s.e("chunk-43663919").then(s.bind(null,"b288"))}}]}],Qt=new L["a"]({routes:Kt}),Wt=Qt,Xt={state:{user:localStorage.getItem("user"),showLogin:!1,isadmin:localStorage.getItem("isadmin"),seller:localStorage.getItem("seller"),roleid:"",isadmin2:localStorage.getItem("isadmin2")},getters:{getUser:function(t){return t.user},getShowLogin:function(t){return t.showLogin},getIsAdmin:function(t){return t.isadmin},getSeller:function(t){return t.seller},getRoleid:function(t){return t.roleid},getAdmin2:function(t){return t.isadmin2}},mutations:{setUser:function(t,e){t.user=e},setShowLogin:function(t,e){t.showLogin=e},setAdmin:function(t,e){t.isadmin=e},setSeller:function(t,e){t.seller=e},setRoleid:function(t,e){t.roleid=e},setAdmin2:function(t,e){t.isadmin2=e}},actions:{setUser:function(t,e){var s=t.commit;s("setUser",e)},setShowLogin:function(t,e){var s=t.commit;s("setShowLogin",e)},setAdmin:function(t,e){var s=t.commit;s("setAdmin",e)},setSeller:function(t,e){var s=t.commit;s("setSeller",e)},setRoleid:function(t,e){var s=t.commit;s("setRoleid",e)},setAdmin2:function(t,e){var s=t.commit;s("setAdmin2",e)}}},Yt={state:{shoppingCart:[]},getters:{getShoppingCart:function(t){return t.shoppingCart},getNum:function(t){for(var e=0,s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];e+=a.num}return e},getIsAllCheck:function(t){for(var e=!0,s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];if(!a.check)return e=!1,e}return e},getCheckGoods:function(t){for(var e=[],s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];a.check&&e.push(a)}return e},getCheckNum:function(t){for(var e=0,s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];a.check&&(e+=a.num)}return e},getTotalPrice:function(t){for(var e=0,s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];a.check&&(e+=a.price*a.num)}return e}},mutations:{setShoppingCart:function(t,e){t.shoppingCart=e},unshiftShoppingCart:function(t,e){t.shoppingCart.unshift(e)},updateShoppingCart:function(t,e){if("num"==e.prop){if(t.shoppingCart[e.key].maxNum<e.val)return;if(e.val<1)return}t.shoppingCart[e.key][e.prop]=e.val},addShoppingCartNum:function(t,e){for(var s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];a.productID==e&&a.num<a.maxNum&&a.num++}},deleteShoppingCart:function(t,e){for(var s=0;s<t.shoppingCart.length;s++){var a=t.shoppingCart[s];a.id==e&&t.shoppingCart.splice(s,1)}},checkAll:function(t,e){for(var s=0;s<t.shoppingCart.length;s++)t.shoppingCart[s].check=e}},actions:{setShoppingCart:function(t,e){var s=t.commit;s("setShoppingCart",e)},unshiftShoppingCart:function(t,e){var s=t.commit;s("unshiftShoppingCart",e)},updateShoppingCart:function(t,e){var s=t.commit;s("updateShoppingCart",e)},addShoppingCartNum:function(t,e){var s=t.commit;s("addShoppingCartNum",e)},deleteShoppingCart:function(t,e){var s=t.commit;s("deleteShoppingCart",e)},checkAll:function(t,e){var s=t.commit;s("checkAll",e)}}};a["default"].use(n["a"]);var Zt=new n["a"].Store({strict:!0,modules:{user:Xt,shoppingCar:Yt}}),te=s("4328"),ee=s.n(te),se=s("d67e"),ae=s.n(se),oe=(s("0fae"),s("5c96")),re=s.n(oe);a["default"].use(re.a),a["default"].prototype.$axios=b.a,a["default"].config.productionTip=!1,a["default"].component("tree-table",ae.a),new a["default"]({router:Wt,store:Zt,render:function(t){return t(S)}}).$mount("#app"),a["default"].prototype.$Qs=ee.a,a["default"].prototype.$target="http://8.141.56.170:9100",b.a.defaults.crossDomain=!0,b.a.defaults.withCredentials=!0},"5ced":function(t,e,s){},"65da":function(t,e,s){},7440:function(t,e,s){},7939:function(t,e,s){"use strict";s("08b8")},"7ae1":function(t,e,s){},"7fe7":function(t,e,s){},"80b5":function(t,e,s){"use strict";s("b7f8")},8253:function(t,e,s){},"85ec":function(t,e,s){},ac94:function(t,e,s){"use strict";s("7440")},b7f8:function(t,e,s){},cccb:function(t,e,s){"use strict";s("5ced")},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"},d530:function(t,e,s){"use strict";s("7ae1")},d5f3:function(t,e,s){"use strict";s("7fe7")},e398:function(t,e,s){"use strict";s("8253")},ea2e:function(t,e,s){},ede7:function(t,e,s){t.exports=s.p+"img/logo.c8999c02.png"},f5f4:function(t,e,s){},f62b:function(t,e,s){"use strict";s("65da")},fab0:function(t,e,s){}});
//# sourceMappingURL=app.b8c18a9e.js.map