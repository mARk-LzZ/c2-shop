{"version":3,"sources":["webpack:///./src/admin/rolesList.vue?0cf6","webpack:///src/admin/rolesList.vue","webpack:///./src/admin/rolesList.vue?c39a","webpack:///./src/admin/rolesList.vue","webpack:///./src/admin/rolesList.vue?43ac"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","rolelist","scopedSlots","_u","key","fn","scope","_l","row","item1","index1","id","class","on","$event","removeRightById","_s","authName","staticClass","item2","index2","item3","showSetRightDialog","role","rightId","setRightDialogVisible","setRightDialogClosed","ref","rightslist","defKeys","treeProps","slot","allotRights","staticRenderFns","data","children","label","roleId","methods","getLeafKeys","arr","push","node","forEach","created","getRoleList","component"],"mappings":"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","file":"js/chunk-2f8a833d.64ab90bc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"添加角色\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.rolelist,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,index1){return _c('el-row',{key:item1.id,class:['bd-bottom','vcenter',index1==0?'bd-top':'']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item1.id)}}},[_vm._v(_vm._s(item1.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,index2){return _c('el-row',{key:item2.id,class:[index2==0?'':'bd-top','vcenter']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"closable\":\"\",\"type\":\"success\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3){return _c('el-tag',{key:item3.id,attrs:{\"closable\":\"\",\"type\":\"warning\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item3.id)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"角色描述\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"450px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showSetRightDialog()}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeRightById(_vm.role,_vm.rightId)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配角色\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisible=$event},\"close\":_vm.setRightDialogClosed}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightslist,\"default-checked-keys\":_vm.defKeys,\"node-key\":\"id\",\"default-expand-all\":\"\",\"show-checkbox\":\"\",\"props\":_vm.treeProps}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.allotRights}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card>\r\n      <el-row>\r\n        <el-col>\r\n          <el-button type=\"primary\" >添加角色</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-table :data=\"rolelist\" border stripe>\r\n        <el-table-column type=\"expand\">\r\n          <template v-slot=\"scope\">\r\n            <el-row :class=\"['bd-bottom','vcenter',index1==0?'bd-top':'']\" v-for=\"(item1,index1) in scope.row.children\" :key=\"item1.id\">\r\n              <!-- 一级权限 -->\r\n              <el-col :span=\"5\">\r\n                <el-tag closable @close=\"removeRightById(scope.row,item1.id)\" >{{item1.authName}}</el-tag>\r\n                <i class=\"el-icon-caret-right\"></i>\r\n              </el-col>\r\n              <!-- 二级和三级权限 -->\r\n              <el-col :span=\"19\">\r\n                <el-row :class=\"[index2==0?'':'bd-top','vcenter']\" v-for=\"(item2,index2) in item1.children\" :key=\"item2.id\">\r\n                  <el-col :span=\"6\">\r\n                    <el-tag closable @close=\"removeRightById(scope.row,item2.id)\" type=\"success\">{{item2.authName}}</el-tag>\r\n                    <i class=\"el-icon-caret-right\"></i>\r\n                  </el-col>\r\n                  <el-col :span=\"18\">\r\n                    <el-tag closable @close=\"removeRightById(scope.row,item3.id)\" type=\"warning\" v-for=\"(item3) in item2.children\" :key=\"item3.id\">{{item3.authName}}</el-tag>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column prop=\"roleName\" label=\"角色名称\"></el-table-column>\r\n        <el-table-column prop=\"roleDesc\" label=\"角色描述\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"450px\">\r\n          <template v-slot=\"scope\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" @click = \"showSetRightDialog()\">编辑</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" @click = \"removeRightById(role,rightId) \">删除</el-button>\r\n            <el-button type=\"warning\" icon=\"el-icon-setting\" @click=\"showSetRightDialog(scope.row)\">分配角色</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 分配权限对话框 -->\r\n    <el-dialog\r\n      title=\"分配权限\"\r\n      :visible.sync=\"setRightDialogVisible\"\r\n      @close=\"setRightDialogClosed\"\r\n      width=\"50%\"\r\n      >\r\n      <el-tree\r\n        :data=\"rightslist\"\r\n        :default-checked-keys=\"defKeys\"\r\n        node-key=\"id\"\r\n        ref=\"treeRef\"\r\n        default-expand-all\r\n        show-checkbox\r\n        :props=\"treeProps\">\r\n      </el-tree>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"allotRights\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      rolelist: [{roleDesc:122,roleName:111}],\r\n      setRightDialogVisible:false,\r\n      rightslist:[],\r\n      treeProps:{\r\n        children:'children',\r\n        label:'authName'\r\n      },\r\n      defKeys:[],\r\n      roleId:''\r\n    };\r\n  },\r\n  methods: {\r\n    async getRoleList() {\r\n      const { data } = await this.$http.get(\"roles\");\r\n      if (data.meta.status !== 200) {\r\n        return this.$message.error(data.meta.msg);\r\n      }\r\n      this.rolelist = data.data;\r\n    },\r\n    \r\n    \r\n    \r\n    getLeafKeys(node,arr) {\r\n      if(!node.children) {\r\n        return arr.push(node.id)\r\n      }\r\n      node.children.forEach(item => this.getLeafKeys(item,arr));\r\n    },\r\n    setRightDialogClosed() {\r\n      this.defKeys = []\r\n    },\r\n   \r\n  },\r\n  created() {\r\n    this.getRoleList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.el-tag {\r\n  margin: 7px;\r\n}\r\n\r\n.bd-top {\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.bd-bottom {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rolesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rolesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rolesList.vue?vue&type=template&id=ed561cf8&\"\nimport script from \"./rolesList.vue?vue&type=script&lang=js&\"\nexport * from \"./rolesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rolesList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rolesList.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}