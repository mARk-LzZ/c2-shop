{"version":3,"sources":["webpack:///./src/admin/addGoods.vue?35a5","webpack:///./src/admin/addGoods.vue?e635","webpack:///src/admin/addGoods.vue","webpack:///./src/admin/addGoods.vue?5bc9","webpack:///./src/admin/addGoods.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","activeIndex","ref","addForm","addFormRules","beforTabLeave","on","tabClicked","model","value","callback","$$v","expression","$set","catelist","cateProps","CateChanged","_l","item","key","attr_id","attr_name","cb","i","uploadimg","headerobj","handlePreview","handleRemove","handleSuccess","staticClass","add","previewVisible","$event","previewPath","staticRenderFns","data","goods_name","goods_oriprice","goods_thinkmoney","goods_number","goods_cat","pics","goods_introduce","goods_price","goods_wight","cat_id","cat_level","cat_name","cat_pid","expandTrigger","label","children","manyTabelData","onlyTabelData","Authorization","methods","file","response","url","splice","push","picInfo","console","log","$axios","post","res","commname","commdesc","orimoney","thinkmoney","category","created","getCateList","computed","cateId","length","component"],"mappings":"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","file":"js/chunk-43663919.03ade5b6.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addGoods.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"添加商品\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"添加商品信息\",\"closable\":false,\"center\":\"\",\"show-icon\":\"\",\"type\":\"info\"}}),_c('el-steps',{attrs:{\"space\":200,\"active\":_vm.activeIndex - 0,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品信息\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"80px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"before-leave\":_vm.beforTabLeave,\"tab-position\":'left'},on:{\"tab-click\":_vm.tabClicked},model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"0\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.addForm.goods_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_name\", $$v)},expression:\"addForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品原价格\",\"prop\":\"goods_oriprice\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_oriprice),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_oriprice\", $$v)},expression:\"addForm.goods_oriprice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品预估价\",\"prop\":\"goods_thinkmoney\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_thinkmoney),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_thinkmoney\", $$v)},expression:\"addForm.goods_thinkmoney\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_number),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_number\", $$v)},expression:\"addForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类：\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{attrs:{\"options\":_vm.catelist,\"props\":_vm.cateProps,\"clearable\":\"\"},on:{\"change\":_vm.CateChanged},model:{value:(_vm.addForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_cat\", $$v)},expression:\"addForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\",\"name\":\"1\"}},_vm._l((_vm.manyTabelData),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(cb,i){return _c('el-checkbox',{key:i,attrs:{\"label\":cb,\"border\":\"\"}})}),1)],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\",\"name\":\"2\"}},_vm._l((_vm.onlyTabelData),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\",\"name\":\"3\"}},[_c('el-upload',{attrs:{\"action\":\"http://8.141.56.170:9100/relgoods/video\",\"before-upload\":_vm.uploadimg,\"headers\":_vm.headerobj,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\",\"name\":\"4\"}},[_c('quill-editor',{model:{value:(_vm.addForm.goods_introduce),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_introduce\", $$v)},expression:\"addForm.goods_introduce\"}}),_c('el-button',{staticClass:\"btnAdd\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加商品\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"图片预览\",\"visible\":_vm.previewVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}},[_c('img',{staticClass:\"previewImg\",attrs:{\"src\":_vm.previewPath,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card>\r\n      <el-alert\r\n        title=\"添加商品信息\"\r\n        :closable=\"false\"\r\n        center\r\n        show-icon\r\n        type=\"info\"\r\n      >\r\n      </el-alert>\r\n      <el-steps\r\n        :space=\"200\"\r\n        :active=\"activeIndex - 0\"\r\n        finish-status=\"success\"\r\n        align-center\r\n      >\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品信息\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n\r\n      <el-form\r\n        ref=\"addFormRef\"\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        label-width=\"80px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          v-model=\"activeIndex\"\r\n          :before-leave=\"beforTabLeave\"\r\n          :tab-position=\"'left'\"\r\n          @tab-click=\"tabClicked\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input v-model=\"addForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品原价格\" prop=\"goods_oriprice\">\r\n              <el-input v-model=\"addForm.goods_oriprice\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品预估价\" prop=\"goods_thinkmoney\">\r\n              <el-input v-model=\"addForm.goods_thinkmoney\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n              <el-input v-model=\"addForm.goods_number\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类：\" prop=\"goods_cat\">\r\n              <el-cascader\r\n                :options=\"catelist\"\r\n                :props=\"cateProps\"\r\n                clearable\r\n                v-model=\"addForm.goods_cat\"\r\n                @change=\"CateChanged\"\r\n              >\r\n              </el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in manyTabelData\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox\r\n                  :label=\"cb\"\r\n                  border\r\n                  v-for=\"(cb, i) in item.attr_vals\"\r\n                  :key=\"i\"\r\n                ></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in onlyTabelData\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <el-upload\r\n            action=\"http://8.141.56.170:9100/relgoods/video\"\r\n              :before-upload  = \"uploadimg\"\r\n              :headers=\"headerobj\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"handleSuccess\"\r\n              list-type=\"picture\"\r\n            >\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <quill-editor v-model=\"addForm.goods_introduce\"></quill-editor>\r\n            <el-button type=\"primary\" class=\"btnAdd\" @click=\"add\">添加商品</el-button>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-dialog\r\n      title=\"图片预览\"\r\n      :visible.sync=\"previewVisible\"\r\n      width=\"50%\">\r\n      <img :src=\"previewPath\" alt=\"\" class=\"previewImg\">\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeIndex: \"0\",\r\n      addForm: {\r\n        goods_name: \"\",\r\n        goods_oriprice: 0,\r\n        goods_thinkmoney: 0,\r\n        goods_number: 0,\r\n        goods_cat: [],\r\n        pics:[],\r\n        goods_introduce:'',\r\n        attrs:[]\r\n      },\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" }\r\n        ],\r\n        goods_wight: [\r\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: \"请输入商品数量\", trigger: \"blur\" }\r\n        ],\r\n        goods_cat: [\r\n          { required: true, message: \"请选择商品分类\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      catelist:[ {cat_deleted: false,cat_id: 1,cat_level: 0,cat_name: \"3C数码\",cat_pid: 0},\r\n      {cat_deleted: false,\r\ncat_id: 1,\r\ncat_level: 0,\r\ncat_name: \"书籍\",\r\ncat_pid: 1},{cat_deleted: false,\r\ncat_id: 2,\r\ncat_level: 3,\r\ncat_name: \"生活用品\",\r\ncat_pid: 2}\r\n],\r\n      cateProps: {\r\n        expandTrigger: \"hover\",\r\n        value: \"cat_id\",\r\n        label: \"cat_name\",\r\n        children: \"children\"\r\n      },\r\n      manyTabelData: [],\r\n      onlyTabelData: [],\r\n      headerobj:{\r\n        Authorization:window.sessionStorage.getItem('token')\r\n      },\r\n      previewPath:'',\r\n      previewVisible:false\r\n    };\r\n  },\r\n  methods: {\r\n  \r\n    handlePreview(file) {\r\n      this.previewPath = file.response.data.url\r\n      this.previewVisible = true\r\n    },\r\n    handleRemove(fire) {\r\n      const picPath = fire.response.data.tmp_path\r\n      const i = this.addForm.pics.findIndex(x=>x.pic===picPath)\r\n      this.addForm.pics.splice(i,1)\r\n    },\r\n    handleSuccess(response) {\r\n      const picInfo = {pic:response.data.tmp_path}\r\n      this.addForm.pics.push(picInfo)\r\n    },\r\n    uploadimg(file){\r\n      console.log('upload')\r\n      this.$axios.post('http://8.141.56.170:9100/relgoods/video',{\r\n        file:file\r\n      }).then(res=>{\r\n        console.log(res)\r\n      })\r\n     \r\n\r\n\r\n    },\r\n    add() {\r\n\r\n      this.$axios.post('http://8.141.56.170:9100/relgoods/rel',{\r\n        commname:this.addForm.goods_name,\r\n        commdesc:'',\r\n        orimoney:this.addForm.goods_oriprice,\r\n        thinkmoney:this.addForm.goods_thinkmoney,\r\n        category:this.addForm.goods_cat\r\n\r\n      }).then(res=>{\r\n        console.log(res)\r\n      })\r\n\r\n      // this.$refs.addFormRef.validate(async valid=>{\r\n       \r\n      //   valid\r\n      //   const form = _.cloneDeep(this.addForm)\r\n      //   form.goods_cat = form.goods_cat.join(',')\r\n      //   this.manyTabelData.forEach(item => {\r\n      //     const newInfo = {\r\n      //       attr_id:item.attr_id,\r\n      //       attr_value:item.attr_vals.join(' ')\r\n      //     }\r\n      //     this.addForm.attrs.push(newInfo)\r\n      //   });\r\n      //   this.onlyTabelData.forEach(item => {\r\n      //     const newInfo = {\r\n      //       attr_id:item.attr_id,\r\n      //       attr_value:item.attr_vals\r\n      //     }\r\n      //     this.addForm.attrs.push(newInfo)\r\n      //   });\r\n      //   form.attrs = this.addForm.attrs\r\n      //   const {data} = await this.$http.post('goods',form)\r\n      //   if (data.meta.status !== 201) {\r\n      //     return this.$message.error(data.meta.msg);\r\n      //   }\r\n      //   this.$message.success('添加商品成功！')\r\n      //   this.$router.push('/goods')\r\n    //   })\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList();\r\n  },\r\n  computed: {\r\n    cateId() {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2];\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.el-checkbox {\r\n  margin: 0 10px 0 0 !important;\r\n}\r\n\r\n.previewImg{\r\n  width: 100%;\r\n}\r\n\r\n.btnAdd{\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addGoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addGoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addGoods.vue?vue&type=template&id=47a92659&\"\nimport script from \"./addGoods.vue?vue&type=script&lang=js&\"\nexport * from \"./addGoods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addGoods.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}